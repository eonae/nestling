### DIP, DI, IoC, IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–ú–∞—Ç–µ—Ä–∏–∞–ª –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π, –ø–æ—ç—Ç–æ–º—É —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥–∏—Å–ø—É—Ç–∞ –ø–æ –ø–æ–≤–æ–¥—É —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫, –≤–∞–∂–Ω–æ—Å—Ç–∏/–≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º. 



#### DIP: Dependency Inversion Principle

–ü–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ —Å–≤—è—â–µ–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞ `SOLID`. –°—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å—É `PostsService` –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω `PostsRepository`, –∑–Ω–∞—Ç—å –æ–± —ç—Ç–æ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –Ω—É–∂–Ω–æ **–Ω–µ—á—Ç–æ** —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã. –¢–æ –µ—Å—Ç—å, `–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å`, –Ω–∞–ø—Ä–∏–º–µ—Ä `IPostsRepository`. –ê –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –±—É–¥–µ—Ç –∫–ª–∞—Å—Å –∏ –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Å—Ç–∞–º - –≤–æ–æ–±—â–µ –Ω–µ–≤–∞–∂–Ω–æ. –¢–æ –µ—Å—Ç—å, PostsService –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏** (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞), –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∫–ª–∞—Å—Å–∞).

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏—è—Ö —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–∞. –°–∫–∞–∂–µ–º, —ç—Ç–æ 100% –Ω–µ –Ω—É–∂–Ω–æ –≤ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. **–ù–æ —Å–∞–º–∞ –∏–¥–µ—è –≤–∞–∂–Ω–∞—è –∏ –ø–æ–ª–µ–∑–Ω–∞—è!**

–ü—Ä–∞–≤–¥–∞ –≤ JS –Ω–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ üôà. –í–µ—Ä–Ω–µ–µ –æ–Ω–∏ –∏–∑ TS –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ JS-–∫–æ–¥. –ü–æ—ç—Ç–æ–º—É —á—Ç–æ–±—ã —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä—ë–º–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è "–∫–æ—Å—Ç—ã–ª–∏—Ç—å". –ù–∞–ø—Ä–∏–º–µ—Ä –≤ Nest.js –¥–µ–ª–∞—é—Ç —Ç–∞–∫:

``` typescript
@Inject(SOME_STRING_OR_SYMBOL) readonly service: ISomeInterface
```

`SOME_STRING_OR_SYMBOL` - —ç—Ç–æ DI-—Ç–æ–∫–µ–Ω. –û —Ç–æ–∫–µ–Ω–∞—Ö –ø–æ–π–¥—ë—Ç —Ä–µ—á—å –Ω–∏–∂–µ.



#### DI: Dependency Injection

–ù–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ DIP –Ω–µ –∏–º–µ–µ—Ç, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—Ö–æ–∂–µ—Å—Ç—å –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä üòâ

–í –Ω–∞—à–µ–º —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–∏–º–µ—Ä–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º –ø–æ—Å—Ç–æ–≤ –ø–∞—Ç—Ç–µ—Ä–Ω –≤–∏–¥–∏—Ç –∫–æ–¥ –∏ –≥–æ–≤–æ—Ä–∏—Ç –Ω–∞–º:

–í–æ—Ç –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π PostsRepository –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ PostsService —á–µ—Ä–µ–∑ `new PostsRepository()`. –ù–æ —ç—Ç–æ –ø–ª–æ—Ö–æ, –≤–¥—Ä—É–≥ –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é? –ù–∞–ø—Ä–∏–º–µ—Ä –ø–æ–¥—Å—É–Ω—É—Ç—å –∑–∞–≥–ª—É—à–∫—É –¥–ª—è —Ç–µ—Å—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–µ —Ö–æ–¥–∏—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—É—é –ë–î?

–î–∞–≤–∞–π—Ç–µ –Ω–µ –±—É–¥–µ–º —Ç–∞–∫ –¥–µ–ª–∞—Ç—å! –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≥–¥–µ-—Ç–æ –≤—ã—à–µ –∏ **–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º** –µ–≥–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä PostsService.

``` typescript
const repo = new PostsRepository();
const service = new PostsService(repo);
```

–ü–æ –∫–ª–∞—Å—Å–∏–∫–µ - DI –Ω—É–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å –≤–º–µ—Å—Ç–µ —Å DIP. –¢–æ –µ—Å—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ PostsService –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ:

``` typescript
...
constructor(private readonly repo: IPostsRepository)
...
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ —Ç–µ—Å—Ç–∞—Ö.

–ù–æ —ç—Ç–æ –ø–æ –∫–ª–∞—Å—Å–∏–∫–µ.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ TS c –µ–≥–æ `—É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π` –º—ã –º–æ–∂–µ–º –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏ –±–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –î–∞ –ª–∞–¥–Ω–æ, –∫–æ–≥–æ –º—ã –æ–±–º–∞–Ω—ã–≤–∞–µ–º - –≤ JS –º—ã –≤–æ–æ–±—â–µ –≤—Å—ë —á—Ç–æ —É–≥–æ–¥–Ω–æ –º–æ–∂–µ–º –ø–æ–¥–º–µ–Ω–∏—Ç—å üòâ



#### IoC: Inversion Of Control

–û–∫, DI - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –ù–æ –Ω–∞–¥–æ –∂–µ –≥–¥–µ-—Ç–æ –ø–∏—Å–∞—Ç—å –≤—Å–µ —ç—Ç–∏ new-new-new... –∏ –ø–æ—Ç–æ–º –æ–¥–Ω–æ –≤ –¥—Ä—É–≥–æ–µ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å. –ú–æ–∂–Ω–æ —ç—Ç–æ –∫–∞–∫-—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å, —Å–¥–µ–ª–∞—Ç—å **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ**? –ß—Ç–æ–±—ã —Å–∫–∞–∑–∞–ª —á—Ç–æ —Ö–æ—á—É, –∞ –æ–Ω–æ —É–∂–µ —Ç–∞–º –∫–∞–∫-—Ç–æ —Å–∞–º–æ.

–ü–æ —Å—É—Ç–∏, —ç—Ç–∞ –∏–¥–µ—è - –∏ –µ—Å—Ç—å –∏–Ω–≤–µ—Ä—Å–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ù–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –∏ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –±–ª–∞–≥–∞–º–∏ —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏.

–ù–æ Inversion Of Control - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–¥–µ—è. –ß—Ç–æ–±—ã —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ –Ω–∞–º –Ω—É–∂–µ–Ω...



#### IoC-Container (–∏–ª–∏ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)

–≠—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–¥–µ–∏ –∏–Ω–≤–µ—Ä—Å–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è –∑–∞–¥–∞—á–∏ DI. –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –º–æ–¥—É–ª—å, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∞ –∑–∞—Ç–µ–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –µ–º—É –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ.

–í –º–∏—Ä–µ JS/TS —Å–∞–º—ã–º–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ID-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Inversify.js –∏ TypeDI, –∞ —Ç–∞–∫–∂–µ Nest-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ DI –≤ Angular –Ω–∞ –∏–¥–µ—è—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω –ø–æ—Å—Ç—Ä–æ–µ–Ω.
